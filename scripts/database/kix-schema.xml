<?xml version="1.0" encoding="utf-8" ?>
<database Name="kix">

<!-- acl - all acls from the editor -->
<Table Name="acl">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Type="VARCHAR" Size="200"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="description" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="stop_after_match" Required="false" Type="SMALLINT"/>
    <!-- configs stored as YAML like in the web service configuration -->
    <Column Name="config_match" Required="false" Type="LONGBLOB"/>
    <Column Name="config_change" Required="false" Type="LONGBLOB"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="acl_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- acl_sync - sync states for acls -->
<Table Name="acl_sync">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="acl_id" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="sync_state" Required="true" Size="30" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
</Table>

<!-- valid - all valid states -->
<Table Name="valid">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="valid_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- user - all users -->
<Table Name="users">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="login" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="pw" Required="true" Size="64" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Column Name="is_agent" Required="true" Type="SMALLINT" Default="0"/>
    <Column Name="is_customer" Required="true" Type="SMALLINT" Default="0"/>
    <Unique Name="users_login">
        <UniqueColumn Name="login"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- user preferences -->
<Table Name="user_preferences">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="user_id" Required="true" Type="INTEGER"/>
    <Column Name="preferences_key" Required="true" Size="150" Type="VARCHAR"/>
    <Column Name="preferences_value" Required="false" Type="varchar" Size="1800000" />
    <Index Name="user_preferences_user_id">
        <IndexColumn Name="user_id"/>
    </Index>
    <ForeignKey ForeignTable="users">
        <Reference Local="user_id" Foreign="id"/>
    </ForeignKey>
</Table>

<Table Name="user_counter">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER" />
    <Column Name="user_id" Required="true" Type="INTEGER" />
    <Column Name="category" Required="true" Size="50" Type="VARCHAR" />
    <Column Name="counter" Required="true" Size="255" Type="VARCHAR" />
    <Column Name="object_id" Required="true" Type="BIGINT" />
    <Unique Name="user_counter_unique">
        <UniqueColumn Name="user_id"/>
        <UniqueColumn Name="category"/>
        <UniqueColumn Name="counter"/>
        <UniqueColumn Name="object_id"/>
    </Unique>
    <Index Name="user_counter_user_id">
        <IndexColumn Name="user_id"/>
    </Index>
    <Index Name="user_counter_category">
        <IndexColumn Name="category"/>
    </Index>
    <Index Name="user_counter_counter">
        <IndexColumn Name="counter"/>
    </Index>
    <ForeignKey ForeignTable="users">
        <Reference Local="user_id" Foreign="id" />
    </ForeignKey>
</Table>

<!-- role - all roles -->
<Table Name="roles">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="usage_context" Required="true" Type="INTEGER"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="roles_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- role_user - relation role<->user -->
<Table Name="role_user">
    <Column Name="user_id" Required="true" Type="INTEGER"/>
    <Column Name="role_id" Required="true" Type="INTEGER"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="role_user_pkey">
        <UniqueColumn Name="user_id"/>
        <UniqueColumn Name="role_id"/>
    </Unique>
    <Index Name="role_user_user_id">
        <IndexColumn Name="user_id"/>
    </Index>
    <Index Name="role_user_role_id">
        <IndexColumn Name="role_id"/>
    </Index>
    <ForeignKey ForeignTable="roles">
        <Reference Local="role_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
        <Reference Local="user_id" Foreign="id"/>
    </ForeignKey>
</Table>

<Table Name="permission_type">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="250" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="permission_type_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<Table Name="role_permission">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="role_id" Required="true" Type="INTEGER"/>
    <Column Name="type_id" Required="true" Type="SMALLINT"/>
    <Column Name="target" Required="true" Size="1000" Type="VARCHAR"/>
    <Column Name="value" Required="true" Type="INTEGER"/>
    <Column Name="is_required" Required="true" Default="0" Type="SMALLINT"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="role_permission_role_id">
        <IndexColumn Name="role_id"/>
    </Index>
    <ForeignKey ForeignTable="permission_type">
        <Reference Local="type_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="roles">
        <Reference Local="role_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- system_address - all email addresses of the system -->
<Table Name="system_address">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="value0" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="value1" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="value2" Required="false" Size="200" Type="VARCHAR"/>
    <Column Name="value3" Required="false" Size="200" Type="VARCHAR"/>
    <Column Name="queue_id" Required="false" Type="INTEGER"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- system_maintenance - an scheduled system maintenance -->
<Table Name="system_maintenance">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="start_date" Required="true" Type="INTEGER"/>
    <Column Name="stop_date" Required="true" Type="INTEGER"/>
    <Column Name="comments" Required="true" Size="250" Type="VARCHAR"/>
    <Column Name="login_message" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="show_login_message" Required="false" Type="SMALLINT"/>
    <Column Name="notify_message" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- follow_up_possible values  -->
<Table Name="follow_up_possible">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="follow_up_possible_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- queue - all system queues -->
<Table Name="queue">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="unlock_timeout" Required="false" Type="INTEGER"/>
    <Column Name="system_address_id" Required="true" Type="SMALLINT"/>
    <Column Name="default_sign_key" Required="false" Size="100" Type="VARCHAR"/>
    <Column Name="signature" Required="false"  Size="10000" Type="VARCHAR"/>
    <Column Name="follow_up_id" Required="true" Type="SMALLINT"/>
    <Column Name="follow_up_lock" Required="true" Type="SMALLINT"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="queue_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="system_address">
        <Reference Local="system_address_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="follow_up_possible">
        <Reference Local="follow_up_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- queue preferences -->
<Table Name="queue_preferences">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="queue_id" Required="true" Type="INTEGER"/>
    <Column Name="preferences_key" Required="true" Size="150" Type="VARCHAR"/>
    <Column Name="preferences_value" Required="false" Size="250" Type="VARCHAR"/>
    <Index Name="queue_preferences_queue_id">
        <IndexColumn Name="queue_id"/>
    </Index>
    <ForeignKey ForeignTable="queue">
        <Reference Local="queue_id" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- ticket_priority - all ticket priorities -->
<Table Name="ticket_priority">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="ticket_priority_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- ticket_type - all ticket types -->
<Table Name="ticket_type">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="ticket_type_vid_id_name">
        <IndexColumn Name="valid_id"/>
        <IndexColumn Name="id"/>
        <IndexColumn Name="name"/>
    </Index>
    <Unique Name="ticket_type_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- ticket_lock_type - all ticket lock types -->
<Table Name="ticket_lock_type">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="ticket_lock_type_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- ticket_state - all ticket states -->
<Table Name="ticket_state">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="type_id" Required="true" Type="SMALLINT"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="ticket_state_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket_state_type">
        <Reference Local="type_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- ticket_state_type - all ticket state types -->
<Table Name="ticket_state_type">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="ticket_state_type_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- ticket - all tickets :) (the main point) -->
<Table Name="ticket">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="tn" Required="true" Size="50" Type="VARCHAR"/>
    <Column Name="title" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="queue_id" Required="true" Type="INTEGER"/>
    <Column Name="ticket_lock_id" Required="true" Type="SMALLINT"/>
    <Column Name="type_id" Required="false" Type="SMALLINT"/>
    <Column Name="user_id" Required="true" Type="INTEGER"/>
    <Column Name="responsible_user_id" Required="true" Type="INTEGER"/>
    <Column Name="ticket_priority_id" Required="true" Type="SMALLINT"/>
    <Column Name="ticket_state_id" Required="true" Type="SMALLINT"/>
    <Column Name="organisation_id" Required="false" Type="INTEGER"/>
    <Column Name="contact_id" Required="false" Type="INTEGER"/>
    <Column Name="timeout" Required="true" Type="INTEGER"/>
    <Column Name="until_time" Required="true" Type="INTEGER"/>
    <Column Name="archive_flag" Required="true" Default="0" Type="SMALLINT"/>
    <Column Name="accounted_time" Required="false" Type="INTEGER"/>
    <Column Name="create_time_unix" Required="true" Type="BIGINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="ticket_tn">
        <UniqueColumn Name="tn"/>
    </Unique>
    <Index Name="ticket_title">
        <IndexColumn Name="title"/>
    </Index>
    <Index Name="ticket_contact_id">
        <IndexColumn Name="contact_id"/>
    </Index>
    <Index Name="ticket_organisation_id">
        <IndexColumn Name="organisation_id"/>
    </Index>
    <Index Name="ticket_queue_id">
        <IndexColumn Name="queue_id"/>
    </Index>
    <Index Name="ticket_ticket_lock_id">
        <IndexColumn Name="ticket_lock_id"/>
    </Index>
    <Index Name="ticket_queue_view">
        <IndexColumn Name="ticket_state_id"/>
        <IndexColumn Name="ticket_lock_id"/>
    </Index>
    <Index Name="ticket_type_id">
        <IndexColumn Name="type_id"/>
    </Index>
    <Index Name="ticket_user_id">
        <IndexColumn Name="user_id"/>
    </Index>
    <Index Name="ticket_responsible_user_id">
        <IndexColumn Name="responsible_user_id"/>
    </Index>
    <Index Name="ticket_ticket_state_id">
        <IndexColumn Name="ticket_state_id"/>
    </Index>
    <Index Name="ticket_ticket_priority_id">
        <IndexColumn Name="ticket_priority_id"/>
    </Index>
    <Index Name="ticket_create_time_unix">
        <IndexColumn Name="create_time_unix"/>
    </Index>
    <Index Name="ticket_create_time">
        <IndexColumn Name="create_time"/>
    </Index>
    <Index Name="ticket_until_time">
        <IndexColumn Name="until_time"/>
    </Index>
    <Index Name="ticket_timeout">
        <IndexColumn Name="timeout"/>
    </Index>
    <Index Name="ticket_archive_flag">
        <IndexColumn Name="archive_flag"/>
    </Index>
    <Index Name="ticket_id_aflag">
        <IndexColumn Name="id"/>
        <IndexColumn Name="archive_flag"/>
    </Index>
    <Index Name="ticket_stid_qid_id">
        <IndexColumn Name="ticket_state_id"/>
        <IndexColumn Name="queue_id"/>
        <IndexColumn Name="id"/>
    </Index>
    <Index Name="ticket_orgid_aflag_id">
        <IndexColumn Name="organisation_id"/>
        <IndexColumn Name="archive_flag"/>
        <IndexColumn Name="id"/>
    </Index>
    <Index Name="ticket_qid_stid_aflag_id">
        <IndexColumn Name="queue_id"/>
        <IndexColumn Name="ticket_state_id"/>
        <IndexColumn Name="archive_flag"/>
        <IndexColumn Name="id"/>
    </Index>
    <Index Name="ticket_uid_stid_id">
        <IndexColumn Name="user_id"/>
        <IndexColumn Name="ticket_state_id"/>
        <IndexColumn Name="id"/>
    </Index>
    <ForeignKey ForeignTable="queue">
        <Reference Local="queue_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket_type">
        <Reference Local="type_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket_priority">
        <Reference Local="ticket_priority_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket_state">
        <Reference Local="ticket_state_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket_lock_type">
        <Reference Local="ticket_lock_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
        <Reference Local="user_id" Foreign="id"/>
        <Reference Local="responsible_user_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="contact">
        <Reference Local="contact_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="organisation">
        <Reference Local="organisation_id" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- ticket_flag -->
<Table Name="ticket_flag">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="ticket_id" Required="true" Type="BIGINT"/>
    <Column Name="ticket_key" Required="true" Size="50" Type="VARCHAR"/>
    <Column Name="ticket_value" Required="false" Size="50" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <!-- index for getting a user's ticket flags -->
    <Index Name="ticket_flag_ticket_id_create_by">
        <IndexColumn Name="ticket_id"/>
        <IndexColumn Name="create_by"/>
    </Index>
    <!-- index for updating/deleting a certain flag for all users of a ticket -->
    <Index Name="ticket_flag_ticket_id_ticket_key">
        <IndexColumn Name="ticket_id"/>
        <IndexColumn Name="ticket_key"/>
    </Index>
    <!-- index for deleting all flags from a ticket -->
    <Index Name="ticket_flag_ticket_id">
        <IndexColumn Name="ticket_id"/>
    </Index>
    <Index Name="ticket_flag_ticket_key">
        <IndexColumn Name="ticket_key"/>
    </Index>
    <Index Name="ticket_flag_tkey_tval_crby_tid">
        <IndexColumn Name="ticket_key"/>
        <IndexColumn Name="ticket_value"/>
        <IndexColumn Name="create_by"/>
        <IndexColumn Name="ticket_id"/>
    </Index>
    <!-- unique index enforcing that each flag key can exist only once per user and ticket -->
    <Unique Name="ticket_flag_per_user">
        <UniqueColumn Name="ticket_id"/>
        <UniqueColumn Name="ticket_key"/>
        <UniqueColumn Name="create_by"/>
    </Unique>
    <ForeignKey ForeignTable="ticket">
        <Reference Local="ticket_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- ticket_history - the whole history of all tickets -->
<Table Name="ticket_history">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="history_type_id" Required="true" Type="SMALLINT"/>
    <Column Name="ticket_id" Required="true" Type="BIGINT"/>
    <Column Name="article_id" Required="false" Type="BIGINT"/>
    <Column Name="type_id" Required="true" Type="SMALLINT"/>
    <Column Name="queue_id" Required="true" Type="INTEGER"/>
    <Column Name="owner_id" Required="true" Type="INTEGER"/>
    <Column Name="priority_id" Required="true" Type="SMALLINT"/>
    <Column Name="state_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="ticket_history_ticket_id">
        <IndexColumn Name="ticket_id"/>
    </Index>
    <Index Name="ticket_history_history_type_id">
        <IndexColumn Name="history_type_id"/>
    </Index>
    <Index Name="ticket_history_queue_id">
        <IndexColumn Name="queue_id"/>
    </Index>
    <Index Name="ticket_history_type_id">
        <IndexColumn Name="type_id"/>
    </Index>
    <Index Name="ticket_history_owner_id">
        <IndexColumn Name="owner_id"/>
    </Index>
    <Index Name="ticket_history_priority_id">
        <IndexColumn Name="priority_id"/>
    </Index>
    <Index Name="ticket_history_state_id">
        <IndexColumn Name="state_id"/>
    </Index>
    <Index Name="ticket_history_create_time">
        <IndexColumn Name="create_time"/>
    </Index>
    <Index Name="ticket_history_tid_stid_htid">
        <IndexColumn Name="ticket_id"/>
        <IndexColumn Name="state_id"/>
        <IndexColumn Name="history_type_id"/>
    </Index>
    <Index Name="ticket_hist_htid_tid_stid_ct">
        <IndexColumn Name="history_type_id"/>
        <IndexColumn Name="ticket_id"/>
        <IndexColumn Name="state_id"/>
        <IndexColumn Name="create_time"/>
    </Index>
    <ForeignKey ForeignTable="ticket">
        <Reference Local="ticket_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket_type">
        <Reference Local="type_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="article">
        <Reference Local="article_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="queue">
        <Reference Local="queue_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket_priority">
        <Reference Local="priority_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket_state">
        <Reference Local="state_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket_history_type">
        <Reference Local="history_type_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="owner_id" Foreign="id"/>
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- ticket_history_type - all history types -->
<Table Name="ticket_history_type">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="ticket_history_type_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- ticket_index -->
<Table Name="ticket_index">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="ticket_id" Required="true" Type="BIGINT"/>
    <Column Name="queue_id" Required="true" Type="INTEGER"/>
    <Column Name="lock_id" Required="true" Type="SMALLINT"/>
    <Column Name="state_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time_unix" Required="true" Type="BIGINT"/>
    <Index Name="ticket_index_ticket_id">
        <IndexColumn Name="ticket_id"/>
    </Index>
    <Index Name="ticket_index_queue_id">
        <IndexColumn Name="queue_id"/>
    </Index>
    <Index Name="ticket_index_lock_id">
        <IndexColumn Name="lock_id"/>
    </Index>
    <Index Name="ticket_index_state_id">
        <IndexColumn Name="state_id"/>
    </Index>
    <ForeignKey ForeignTable="ticket">
        <Reference Local="ticket_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="queue">
        <Reference Local="queue_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket_state">
        <Reference Local="state_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket_lock_type">
        <Reference Local="lock_id" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- ticket_loop_protection -->
<Table Name="ticket_loop_protection">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="sent_to" Required="true" Size="250" Type="VARCHAR"/>
    <Column Name="sent_date" Required="true" Size="150" Type="VARCHAR"/>
    <Index Name="ticket_loop_protection_sent_to">
        <IndexColumn Name="sent_to"/>
    </Index>
    <Index Name="ticket_loop_protection_sent_date">
        <IndexColumn Name="sent_date"/>
    </Index>
</Table>

<!-- watcher -->
<Table Name="watcher">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="object" Required="true" Size="50" Type="VARCHAR"/>
    <Column Name="object_id" Required="true" Type="BIGINT"/>
    <Column Name="user_id" Required="true" Type="INTEGER"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique>
        <UniqueColumn Name="object"/>
        <UniqueColumn Name="object_id"/>
        <UniqueColumn Name="user_id"/>
    </Unique>
    <Index Name="watcher_object">
        <IndexColumn Name="object"/>
        <IndexColumn Name="object_id"/>
    </Index>
    <Index Name="watcher_user_id">
        <IndexColumn Name="user_id"/>
    </Index>
    <ForeignKey ForeignTable="users">
        <Reference Local="user_id" Foreign="id"/>
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- channel - all channels to "send" articles -->
<Table Name="channel">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="channel_channel_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- article_sender_type - all possibles sender types (e. g. agent, system, customer, ...) -->
<Table Name="article_sender_type">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="article_sender_type_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- article_flag -->
<Table Name="article_flag">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="article_id" Required="true" Type="BIGINT"/>
    <Column Name="article_key" Required="true" Size="50" Type="VARCHAR"/>
    <Column Name="article_value" Required="false" Size="1000" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Unique>
        <UniqueColumn Name="article_id"/>
        <UniqueColumn Name="article_key"/>
        <UniqueColumn Name="create_by"/>
    </Unique>
    <!-- index for a user's article flags -->
    <Index Name="article_flag_article_id_create_by">
        <IndexColumn Name="article_id"/>
        <IndexColumn Name="create_by"/>
    </Index>
    <!-- index for deleting all flags of an article -->
    <Index Name="article_flag_article_id">
        <IndexColumn Name="article_id"/>
    </Index>
    <Index Name="article_flag_create_by">
        <IndexColumn Name="create_by"/>
    </Index>
    <Index Name="article_flag_artkey_crby_aid">
        <IndexColumn Name="article_key"/>
        <IndexColumn Name="create_by"/>
        <IndexColumn Name="article_id"/>
    </Index>
    <ForeignKey ForeignTable="article">
        <Reference Local="article_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- article - all articles -->
<Table Name="article">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="ticket_id" Required="true" Type="BIGINT"/>
    <Column Name="channel_id" Required="true" Type="SMALLINT"/>
    <Column Name="customer_visible" Required="false" Type="SMALLINT"/>
    <Column Name="article_sender_type_id" Required="true" Type="SMALLINT"/>
    <Column Name="a_from" Required="false" Size="3800" Type="VARCHAR"/>
    <Column Name="a_reply_to" Required="false" Size="500" Type="VARCHAR"/>
    <Column Name="a_to" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="a_cc" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="a_bcc" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="a_subject" Required="false" Size="3800" Type="VARCHAR"/>
    <Column Name="a_message_id" Required="false" Size="3800" Type="VARCHAR"/>
    <Column Name="a_message_id_md5" Required="false" Size="32" Type="VARCHAR"/>
    <Column Name="a_in_reply_to" Required="false" Size="3800" Type="VARCHAR"/>
    <Column Name="a_references" Required="false" Size="3800" Type="VARCHAR"/>
    <Column Name="a_content_type" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="a_body" Required="true" Size="1800000" Type="VARCHAR"/>
    <Column Name="incoming_time" Required="true" Type="INTEGER"/>
    <Column Name="content_path" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="attachment_count" Required="false" Type="INTEGER"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="article_ticket_id">
        <IndexColumn Name="ticket_id"/>
    </Index>
    <Index Name="article_channel_id">
        <IndexColumn Name="channel_id"/>
    </Index>
    <Index Name="article_article_sender_type_id">
        <IndexColumn Name="article_sender_type_id"/>
    </Index>
    <Index Name="article_message_id_md5">
        <IndexColumn Name="a_message_id_md5"/>
    </Index>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="ticket">
        <Reference Local="ticket_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="channel">
        <Reference Local="channel_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="article_sender_type">
        <Reference Local="article_sender_type_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- article_search - article search index -->
<Table Name="article_search">
    <Column Name="id" Required="true" PrimaryKey="true" Type="BIGINT"/>
    <Column Name="ticket_id" Required="true" Type="BIGINT"/>
    <Column Name="channel_id" Required="true" Type="SMALLINT"/>
    <Column Name="customer_visible" Required="false" Type="SMALLINT"/>
    <Column Name="article_sender_type_id" Required="true" Type="SMALLINT"/>
    <Column Name="a_from" Required="false" Size="3800" Type="VARCHAR"/>
    <Column Name="a_to" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="a_cc" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="a_subject" Required="false" Size="3800" Type="VARCHAR"/>
    <Column Name="a_body" Required="true" Size="1800000" Type="VARCHAR"/>
    <Column Name="incoming_time" Required="true" Type="INTEGER"/>
    <Index Name="article_search_ticket_id">
        <IndexColumn Name="ticket_id"/>
    </Index>
    <Index Name="article_search_channel_id">
        <IndexColumn Name="channel_id"/>
    </Index>
    <Index Name="article_search_article_sender_type_id">
        <IndexColumn Name="article_sender_type_id"/>
    </Index>
    <Index Name="article_search_incoming_time">
        <IndexColumn Name="incoming_time"/>
    </Index>
    <ForeignKey ForeignTable="ticket">
        <Reference Local="ticket_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="channel">
        <Reference Local="channel_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="article_sender_type">
        <Reference Local="article_sender_type_id" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- article_plain - all articles -->
<Table Name="article_plain">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="article_id" Required="true" Type="BIGINT"/>
    <Column Name="body" Required="true" Type="LONGBLOB"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="article_plain_article_id">
        <IndexColumn Name="article_id"/>
    </Index>
    <ForeignKey ForeignTable="article">
        <Reference Local="article_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- article_plain - attachments -->
<Table Name="article_attachment">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="article_id" Required="true" Type="BIGINT"/>
    <Column Name="filename" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="content_size" Required="false" Size="30" Type="VARCHAR"/>
    <Column Name="content_type" Required="false" Size="450" Type="VARCHAR"/>
    <Column Name="content_id" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="content_alternative" Required="false" Size="50" Type="VARCHAR"/>
    <Column Name="disposition" Required="false" Size="15" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="article_attachment_article_id">
        <IndexColumn Name="article_id"/>
    </Index>
    <ForeignKey ForeignTable="article">
        <Reference Local="article_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- time_accounting - accounted time for tickets -->
<Table Name="time_accounting">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="ticket_id" Required="true" Type="BIGINT"/>
    <Column Name="article_id" Required="false" Type="BIGINT"/>
    <Column Name="time_unit" Required="true" Size="10,2"  Type="DECIMAL"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="time_accounting_ticket_id">
        <IndexColumn Name="ticket_id"/>
    </Index>
    <ForeignKey ForeignTable="ticket">
        <Reference Local="ticket_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="article">
        <Reference Local="article_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- auto_response_type - -->
<Table Name="auto_response_type">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="auto_response_type_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- auto_response - -->
<Table Name="auto_response">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="text0" Required="false" Size="6000" Type="VARCHAR"/>
    <Column Name="text1" Required="false" Size="6000" Type="VARCHAR"/>
    <Column Name="type_id" Required="true" Type="SMALLINT"/>
    <Column Name="system_address_id" Required="true" Type="SMALLINT"/>
    <Column Name="content_type" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="auto_response_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="auto_response_type">
        <Reference Local="type_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="system_address">
        <Reference Local="system_address_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- queue_auto_response - -->
<Table Name="queue_auto_response">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="queue_id" Required="true" Type="INTEGER"/>
    <Column Name="auto_response_id" Required="true" Type="INTEGER"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <ForeignKey ForeignTable="queue">
        <Reference Local="queue_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="auto_response">
        <Reference Local="auto_response_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- token -->
<Table Name="token">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="token" Required="true" Size="10000" Type="VARCHAR"/>
    <Column Name="last_request_time" Required="false" Type="DATE"/>
</Table>

<!-- customer user -->
<Table Name="contact">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="email" Required="true" Size="255" Type="VARCHAR"/>
    <Column Name="email1" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="email2" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="email3" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="email4" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="email5" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="title" Required="false" Size="50" Type="VARCHAR"/>
    <Column Name="firstname" Required="true" Size="100" Type="VARCHAR"/>
    <Column Name="lastname" Required="true" Size="100" Type="VARCHAR"/>
    <Column Name="phone" Required="false" Size="150" Type="VARCHAR"/>
    <Column Name="fax" Required="false" Size="150" Type="VARCHAR"/>
    <Column Name="mobile" Required="false" Size="150" Type="VARCHAR"/>
    <Column Name="street" Required="false" Size="150" Type="VARCHAR"/>
    <Column Name="zip" Required="false" Size="200" Type="VARCHAR"/>
    <Column Name="city" Required="false" Size="200" Type="VARCHAR"/>
    <Column Name="country" Required="false" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Column Name="user_id" Required="false" Type="INTEGER"/>
    <Unique Name="contact_user_id">
        <UniqueColumn Name="user_id"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
        <Reference Local="user_id" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- contact preferences -->
<Table Name="contact_preferences">
    <Column Name="contact_id" Required="true" Type="INTEGER"/>
    <Column Name="preferences_key" Required="true" Size="150" Type="VARCHAR"/>
    <Column Name="preferences_value" Required="false" Size="250" Type="VARCHAR"/>
    <Unique Name="contact_preferences_unique">
        <UniqueColumn Name="contact_id"/>
        <UniqueColumn Name="preferences_key"/>
    </Unique>
    <Index Name="contact_preferences_contact_id">
        <IndexColumn Name="contact_id"/>
    </Index>
    <ForeignKey ForeignTable="contact">
        <Reference Local="contact_id" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- organisation -->
<Table Name="organisation">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="number" Required="true" Size="150" Type="VARCHAR"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="street" Required="false" Size="200" Type="VARCHAR"/>
    <Column Name="zip" Required="false" Size="200" Type="VARCHAR"/>
    <Column Name="city" Required="false" Size="200" Type="VARCHAR"/>
    <Column Name="country" Required="false" Size="200" Type="VARCHAR"/>
    <Column Name="url" Required="false" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="organisation_number">
        <UniqueColumn Name="number"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- organisation_prefs -->
<Table Name="organisation_prefs">
    <Column Name="org_id" Required="true" Type="INTEGER"/>
    <Column Name="preferences_key"   Required="true"  Type="VARCHAR" Size="100"/>
    <Column Name="preferences_value" Required="false" Type="VARCHAR" Size="10000"/>
    <Unique Name="organisation_prefs_unique">
        <UniqueColumn Name="org_id"/>
        <UniqueColumn Name="preferences_key"/>
    </Unique>
    <Index Name="organisation_prefs_org_id">
        <IndexColumn Name="org_id"/>
    </Index>
   <ForeignKey ForeignTable="organisation">
        <Reference Local="org_id" Foreign="id"/>
    </ForeignKey>
</Table>

<Table Name="contact_organisation">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="contact_id" Required="true" Type="INTEGER"/>
    <Column Name="org_id" Required="true" Type="INTEGER"/>
    <Column Name="is_primary" Required="true" Default="0" Type="SMALLINT"/>
    <ForeignKey ForeignTable="contact">
        <Reference Local="contact_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="organisation">
        <Reference Local="org_id" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- oauth2_profile -->
<Table Name="oauth2_profile">
    <Column Name="id"            Required="true" Type="INTEGER" PrimaryKey="true" AutoIncrement="true"/>
    <Column Name="name"          Required="true" Type="VARCHAR" Size="200"/>
    <Column Name="url_auth"      Required="true" Type="VARCHAR" Size="1800000"/>
    <Column Name="url_token"     Required="true" Type="VARCHAR" Size="1800000"/>
    <Column Name="url_redirect"  Required="true" Type="VARCHAR" Size="1800000"/>
    <Column Name="client_id"     Required="true" Type="VARCHAR" Size="1800000"/>
    <Column Name="client_secret" Required="true" Type="VARCHAR" Size="1800000"/>
    <Column Name="scope"         Required="true" Type="VARCHAR" Size="1800000"/>
    <Column Name="valid_id"      Required="true" Type="SMALLINT"/>
    <Column Name="create_time"   Required="true" Type="DATE"/>
    <Column Name="create_by"     Required="true" Type="INTEGER"/>
    <Column Name="change_time"   Required="true" Type="DATE"/>
    <Column Name="change_by"     Required="true" Type="INTEGER"/>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- oauth2_token -->
<Table Name="oauth2_token">
    <Column Name="id"          Required="true" Type="INTEGER" PrimaryKey="true" AutoIncrement="true"/>
    <Column Name="profile_id"  Required="true" Type="INTEGER"/>
    <Column Name="token_type"  Required="true" Type="VARCHAR" Size="20"/>
    <Column Name="token"       Required="true" Type="VARCHAR" Size="1800000"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <ForeignKey ForeignTable="oauth2_profile">
        <Reference Local="profile_id" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- mail_account -->
<Table Name="mail_account">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="login" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="pw" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="host" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="account_type" Required="true" Size="20" Type="VARCHAR"/>
    <Column Name="queue_id" Required="true" Type="INTEGER"/>
    <Column Name="trusted" Required="true" Type="SMALLINT"/>
    <Column Name="imap_folder" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="oauth2_profile_id" Required="false" Type="INTEGER"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <ForeignKey ForeignTable="oauth2_profile">
        <Reference Local="oauth2_profile_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- mail_filter -->
<Table Name="mail_filter">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="stop" Required="false" Type="SMALLINT"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="mail_filter_name">
        <IndexColumn Name="name"/>
    </Index>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="mail_filter_properties">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="filter_id" Required="true" Type="INTEGER"/>
    <Column Name="type" Required="true" Size="20" Type="VARCHAR"/>
    <Column Name="filter_key" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="filter_value" Required="true" Size="1800000" Type="VARCHAR"/>
    <Column Name="negate" Required="false" Type="SMALLINT"/>
    <ForeignKey ForeignTable="mail_filter">
        <Reference Local="filter_id" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- search_profile -->
<Table Name="search_profile">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="type" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="user_login" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="user_type" Required="true" Size="20" Type="VARCHAR"/>
    <Column Name="subscribed_profile_id" Type="INTEGER"/>
    <Index Name="search_profile_login">
        <IndexColumn Name="user_login"/>
    </Index>
</Table>
<Table Name="search_profile_preferences">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="search_profile_id" Required="true" Type="INTEGER"/>
    <Column Name="preferences_type" Required="true" Size="30" Type="VARCHAR"/>
    <Column Name="preferences_key" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="preferences_value" Required="false" Size="200" Type="VARCHAR"/>
    <ForeignKey ForeignTable="search_profile">
        <Reference Local="search_profile_id" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="search_profile_category">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="search_profile_id"  Required="true"  Type="INTEGER"/>
    <Column Name="category" Required="true"  Type="VARCHAR" Size="100"/>
    <ForeignKey ForeignTable="search_profile">
        <Reference Local="search_profile_id" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- process_id -->
<Table Name="process_id">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="process_name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="process_id" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="process_host" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="process_create" Required="true" Type="INTEGER"/>
    <Column Name="process_change" Required="true" Type="INTEGER"/>
</Table>

<!-- notification_event -->
<Table Name="notification_event">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="filter" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="notification_event_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- notification_event_message -->
<Table Name="notification_event_message">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="notification_id" Required="true" Type="INTEGER"/>
    <Column Name="subject" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="text" Required="true" Size="1800000" Type="VARCHAR"/>
    <Column Name="content_type" Required="true" Size="250" Type="VARCHAR"/>
    <Column Name="language" Required="true" Size="60" Type="VARCHAR"/>
    <ForeignKey ForeignTable="notification_event">
        <Reference Foreign="id" Local="notification_id"/>
    </ForeignKey>
    <Index Name="notification_event_message_notification_id">
        <IndexColumn Name="notification_id"/>
    </Index>
    <Index Name="notification_event_message_language">
        <IndexColumn Name="language"/>
    </Index>
    <Unique Name="notification_event_message_notification_id_language">
        <UniqueColumn Name="notification_id"/>
        <UniqueColumn Name="language"/>
    </Unique>
</Table>

<!-- notification_event_item -->
<Table Name="notification_event_item">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="notification_id" Required="true" Type="INTEGER"/>
    <Column Name="event_key" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="event_value" Required="true" Size="2000" Type="VARCHAR"/>
    <ForeignKey ForeignTable="notification_event">
        <Reference Foreign="id" Local="notification_id"/>
    </ForeignKey>
    <Index Name="notification_event_item_notification_id">
        <IndexColumn Name="notification_id"/>
    </Index>
    <Index Name="notification_event_item_event_key">
        <IndexColumn Name="event_key"/>
    </Index>
    <Index Name="notification_event_item_event_value">
        <IndexColumn Name="event_value" Size="100"/>
    </Index>
</Table>

<!-- link_type - all link object types -->
<Table Name="link_type">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="50" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="link_type_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- link_object - all link objects -->
<Table Name="link_object">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="100" Type="VARCHAR"/>
    <Unique Name="link_object_name">
        <UniqueColumn Name="name"/>
    </Unique>
</Table>

<!-- link_relation - all links between objects -->
<Table Name="link_relation">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="source_object_id" Required="true" Type="SMALLINT"/>
    <Column Name="source_key" Required="true" Size="50" Type="VARCHAR"/>
    <Column Name="target_object_id" Required="true" Type="SMALLINT"/>
    <Column Name="target_key" Required="true" Size="50" Type="VARCHAR"/>
    <Column Name="type_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Unique Name="link_relation_view">
        <UniqueColumn Name="source_object_id"/>
        <UniqueColumn Name="source_key"/>
        <UniqueColumn Name="target_object_id"/>
        <UniqueColumn Name="target_key"/>
        <UniqueColumn Name="type_id"/>
    </Unique>
    <Index Name="link_relation_id">
        <IndexColumn Name="id"/>
    </Index>
    <Index Name="link_relation_source">
        <IndexColumn Name="source_object_id"/>
        <IndexColumn Name="source_key"/>
    </Index>
    <Index Name="link_relation_target">
        <IndexColumn Name="target_object_id"/>
        <IndexColumn Name="target_key"/>
    </Index>
    <ForeignKey ForeignTable="link_object">
        <Reference Local="source_object_id" Foreign="id"/>
        <Reference Local="target_object_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="link_type">
        <Reference Local="type_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- system data -->
<Table Name="system_data">
    <Column Name="data_key" Required="true" PrimaryKey="true" Size="160" Type="VARCHAR"/>
    <Column Name="data_value" Required="false" Type="LONGBLOB"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- xml - xml_storage-->
<Table Name="xml_storage">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="xml_type" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="xml_key" Required="true" Size="250" Type="VARCHAR"/>
    <Column Name="xml_content_key" Required="true" Size="250" Type="VARCHAR"/>
    <Column Name="xml_content_value" Required="false" Size="1000000" Type="VARCHAR"/>
    <Index Name="xml_storage_key_type">
        <IndexColumn Name="xml_key" Size="10"/>
        <IndexColumn Name="xml_type" Size="10"/>
    </Index>
    <Index Name="xml_storage_type_ckey_cval">
        <IndexColumn Name="xml_type"/>
        <IndexColumn Name="xml_content_key"/>
        <IndexColumn Name="xml_content_value" Size="200"/>
    </Index>
    <Index Name="xml_storage_xml_content_key">
        <IndexColumn Name="xml_content_key" Size="100"/>
    </Index>
</Table>

<!-- virtual_fs -->
<Table Name="virtual_fs">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="filename" Required="true" Size="350" Type="VARCHAR"/>
    <Column Name="backend" Required="true" Size="60" Type="VARCHAR"/>
    <Column Name="backend_key" Required="true" Size="160" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Index Name="virtual_fs_filename">
        <IndexColumn Name="filename" Size="255"/>
    </Index>
    <Index Name="virtual_fs_backend">
        <IndexColumn Name="backend" Size="60"/>
    </Index>
</Table>
<Table Name="virtual_fs_preferences">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="virtual_fs_id" Required="true" Type="BIGINT"/>
    <Column Name="preferences_key" Required="true" Size="150" Type="VARCHAR"/>
    <Column Name="preferences_value" Required="false" Size="1800000" Type="VARCHAR"/>
    <Index Name="virtual_fs_preferences_virtual_fs_id">
        <IndexColumn Name="virtual_fs_id"/>
    </Index>
    <Index Name="virtual_fs_preferences_key_value">
        <IndexColumn Name="preferences_key"/>
        <IndexColumn Name="preferences_value" Size="150"/>
    </Index>
    <ForeignKey ForeignTable="virtual_fs">
        <Reference Local="virtual_fs_id" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="virtual_fs_db">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="filename" Required="true" Size="350" Type="VARCHAR"/>
    <Column Name="content" Required="true" Type="LONGBLOB"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Index Name="virtual_fs_db_filename">
        <IndexColumn Name="filename" Size="255"/>
    </Index>
</Table>

<!-- api_webservice_config -->
<Table Name="api_webservice_config">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="config" Required="true" Type="LONGBLOB"/>
    <Column Name="config_md5" Required="true" Size="32" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="api_webservice_config_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <Unique Name="api_webservice_config_config_md5">
        <UniqueColumn Name="config_md5"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- api_webservice_config_history -->
<Table Name="api_webservice_config_history">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="config_id" Required="true" Type="INTEGER"/>
    <Column Name="config" Required="true" Type="LONGBLOB"/>
    <Column Name="config_md5" Required="true" Size="32" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="api_webservice_config_history_config_md5">
        <UniqueColumn Name="config_md5"/>
    </Unique>
    <ForeignKey ForeignTable="api_webservice_config">
        <Reference Local="config_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<Table Name="dynamic_field_value">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <!-- foreign key to the dynamic_field -->
    <Column Name="field_id" Required="true" Type="INTEGER"/>
    <!-- the current object to link to (e. g. ticket or article ID) -->
    <Column Name="object_id" Required="true" Type="BIGINT"/>
    <!-- for value we have different field types to store data, can be extended in future -->
    <Column Name="value_text" Required="false" Type="VARCHAR" Size="1800000"/>
    <Column Name="value_date" Required="false" Type="DATE" />
    <Column Name="value_int" Required="false" Type="BIGINT" />
    <Column Name="first_value" Required="false" Type="SMALLINT" />

    <!-- search objects with certain field content -->
    <Index Name="dynamic_field_value_search_date">
        <IndexColumn Name="field_id"/>
        <IndexColumn Name="value_date"/>
    </Index>
    <Index Name="dynamic_field_value_search_int">
        <IndexColumn Name="field_id"/>
        <IndexColumn Name="value_int"/>
    </Index>
    <!-- Allow queries for all fields of an object, or for specific fields and objects e.g. search. -->
    <Index Name="dynamic_field_value_field_values">
        <IndexColumn Name="object_id"/>
        <IndexColumn Name="field_id"/>
    </Index>
    <Index Name="dynamic_field_first_value">
        <IndexColumn Name="field_id"/>
        <IndexColumn Name="first_value"/>
    </Index>
    <ForeignKey ForeignTable="dynamic_field">
        <Reference Local="field_id" Foreign="id"/>
    </ForeignKey>
</Table>

<Table Name="dynamic_field">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <!-- internal fields are protected -->
    <Column Name="internal_field" Required="true" Type="SMALLINT" Default="0"/>
    <!-- the internal field name to be used in response templates, allow only lowercase letters and numbers -->
    <Column Name="name" Required="true" Type="VARCHAR" Size="200"/>
    <!-- label, always translate -->
    <Column Name="label" Required="true" Type="VARCHAR" Size="200"/>
    <!-- field type selects the DF backend to use for this field -->
    <Column Name="field_type" Required="true" Type="VARCHAR" Size="200"/>
    <!-- this controls which object the dynamic field links to; currently we will have "ticket" and "article"; allow only lowercase letters -->
    <Column Name="object_type" Required="true" Type="VARCHAR" Size="200"/>
    <!-- config stored as YAML like in the web service configuration -->
    <!-- the current object to link to (e. g. displaygroup ID) -->
    <Column Name="config" Required="false" Type="LONGBLOB"/>
    <Column Name="customer_visible" Required="false" Type="SMALLINT" Default="0"/>
    <Column Name="comments" Required="false" Size="200" Type="VARCHAR" />
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="dynamic_field_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- scheduler tables -->
<Table Name="scheduler_task">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="ident" Required="true" Type="BIGINT"/>
    <Column Name="name" Required="false" Size="150" Type="VARCHAR"/>
    <Column Name="task_type" Required="true" Size="150" Type="VARCHAR"/>
    <Column Name="task_data" Required="true" Type="LONGBLOB"/>
    <Column Name="attempts" Required="true" Type="SMALLINT"/>
    <Column Name="lock_key" Required="true" Type="BIGINT"/>
    <Column Name="lock_time" Required="false" Type="DATE"/>
    <Column Name="lock_update_time" Required="false" Type="DATE"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Unique Name="scheduler_task_ident">
        <UniqueColumn Name="ident"/>
    </Unique>
    <Index Name="scheduler_task_ident_id">
        <IndexColumn Name="ident"/>
        <IndexColumn Name="id"/>
    </Index>
    <Index Name="scheduler_task_lock_key_id">
        <IndexColumn Name="lock_key"/>
        <IndexColumn Name="id"/>
    </Index>
</Table>

<Table Name="scheduler_future_task">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="ident" Required="true" Type="BIGINT"/>
    <Column Name="execution_time" Required="true" Type="DATE"/>
    <Column Name="name" Required="false" Size="150" Type="VARCHAR"/>
    <Column Name="task_type" Required="true" Size="150" Type="VARCHAR"/>
    <Column Name="task_data" Required="true" Type="LONGBLOB"/>
    <Column Name="attempts" Required="true" Type="SMALLINT"/>
    <Column Name="lock_key" Required="true" Type="BIGINT"/>
    <Column Name="lock_time" Required="false" Type="DATE"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Unique Name="scheduler_future_task_ident">
        <UniqueColumn Name="ident"/>
    </Unique>
    <Index Name="scheduler_future_task_ident_id">
        <IndexColumn Name="ident"/>
        <IndexColumn Name="id"/>
    </Index>
    <Index Name="scheduler_future_task_lock_key_id">
        <IndexColumn Name="lock_key"/>
        <IndexColumn Name="id"/>
    </Index>
</Table>

<Table Name="scheduler_recurrent_task">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="name" Required="true" Size="150" Type="VARCHAR"/>
    <Column Name="task_type" Required="true" Size="150" Type="VARCHAR"/>
    <Column Name="last_execution_time" Required="true" Type="DATE"/>
    <Column Name="last_worker_task_id" Required="fasle" Type="BIGINT"/>
    <Column Name="last_worker_status" Required="false" Type="SMALLINT"/>
    <Column Name="last_worker_running_time" Required="false" Type="INTEGER"/>
    <Column Name="lock_key" Required="true" Type="BIGINT"/>
    <Column Name="lock_time" Required="false" Type="DATE"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Unique Name="scheduler_recurrent_task_name_task_type">
        <UniqueColumn Name="name"/>
        <UniqueColumn Name="task_type"/>
    </Unique>
    <Index Name="scheduler_recurrent_task_task_type_name">
        <IndexColumn Name="task_type"/>
        <IndexColumn Name="name"/>
    </Index>
    <Index Name="scheduler_recurrent_task_lock_key_id">
        <IndexColumn Name="lock_key"/>
        <IndexColumn Name="id"/>
    </Index>
</Table>

<!-- faq -->
<Table Name="faq_category">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER" />
    <Column Name="parent_id" Required="true" Type="INTEGER" />
    <Column Name="name" Required="true" Size="200" Type="VARCHAR" />
    <Column Name="comments" Required="false" Size="200" Type="VARCHAR" />
    <Column Name="valid_id" Required="true" Type="SMALLINT" />
    <Column Name="created" Required="true" Type="DATE" />
    <Column Name="created_by" Required="true" Type="INTEGER" />
    <Column Name="changed" Required="true" Type="DATE" />
    <Column Name="changed_by" Required="true" Type="INTEGER" />
    <Index Name="faq_category_parent_id">
        <IndexColumn Name="parent_id" />
    </Index>
    <Index Name="faq_category_name">
        <IndexColumn Name="name" />
    </Index>
    <Index Name="faq_category_valid_id">
        <IndexColumn Name="valid_id" />
    </Index>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="created_by" Foreign="id"/>
        <Reference Local="changed_by" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="faq_item">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER" />
    <Column Name="f_number" Required="true" Size="200" Type="VARCHAR" />
    <Column Name="f_subject" Required="false" Size="200" Type="VARCHAR" />
    <Column Name="f_name" Required="true" Size="200" Type="VARCHAR" />
    <Column Name="language" Required="true" Size="8" Type="VARCHAR" />
    <Column Name="visibility" Required="true" Size="20" Type="VARCHAR" />
    <Column Name="category_id" Required="true" Type="INTEGER" />
    <Column Name="approved" Required="true" Default="1" Type="SMALLINT" />
    <Column Name="valid_id" Required="true" Default="1" Type="SMALLINT" />
    <Column Name="content_type" Required="true" Default="text/html" Size="250" Type="VARCHAR" />
    <Column Name="f_keywords" Required="false" Size="400" Type="VARCHAR" />
    <Column Name="f_field1" Required="false" Size="1800000" Type="VARCHAR" />
    <Column Name="f_field2" Required="false" Size="1800000" Type="VARCHAR" />
    <Column Name="f_field3" Required="false" Size="1800000" Type="VARCHAR" />
    <Column Name="f_field4" Required="false" Size="1800000" Type="VARCHAR" />
    <Column Name="f_field5" Required="false" Size="1800000" Type="VARCHAR" />
    <Column Name="f_field6" Required="false" Size="1800000" Type="VARCHAR" />
    <Column Name="created" Required="true" Type="DATE" />
    <Column Name="created_by" Required="true" Type="INTEGER" />
    <Column Name="changed" Required="true" Type="DATE" />
    <Column Name="changed_by" Required="true" Type="INTEGER" />
    <Index Name="faq_item_language">
        <IndexColumn Name="language" />
    </Index>
    <Index Name="faq_item_visibility">
        <IndexColumn Name="visibility" />
    </Index>
    <Index Name="faq_item_category_id">
        <IndexColumn Name="category_id" />
    </Index>
    <Index Name="faq_item_valid_id">
        <IndexColumn Name="valid_id" />
    </Index>
    <ForeignKey ForeignTable="faq_category">
        <Reference Local="category_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="created_by" Foreign="id"/>
        <Reference Local="changed_by" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="faq_history">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER" />
    <Column Name="name" Required="true" Size="200" Type="VARCHAR" />
    <Column Name="item_id" Required="true" Type="INTEGER" />
    <Column Name="created" Required="true" Type="DATE" />
    <Column Name="created_by" Required="true" Type="INTEGER" />
    <Column Name="changed" Required="true" Type="DATE" />
    <Column Name="changed_by" Required="true" Type="INTEGER" />
    <Index Name="faq_history_item_id">
        <IndexColumn Name="item_id" />
    </Index>
    <ForeignKey ForeignTable="faq_item">
        <Reference Local="item_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="created_by" Foreign="id"/>
        <Reference Local="changed_by" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="faq_attachment">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="faq_id" Required="true" Type="INTEGER" />
    <Column Name="filename" Required="false" Size="250" Type="VARCHAR" />
    <Column Name="content_size" Required="false" Size="30" Type="VARCHAR" />
    <Column Name="content_type" Required="false" Size="250" Type="VARCHAR" />
    <Column Name="content_id" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="disposition" Required="false" Size="15" Type="VARCHAR"/>
    <Column Name="content" Required="true" Type="LONGBLOB" />
    <Column Name="created" Required="true" Type="DATE" />
    <Column Name="created_by" Required="true" Type="INTEGER" />
    <Column Name="changed" Required="true" Type="DATE" />
    <Column Name="changed_by" Required="true" Type="INTEGER" />
    <Index Name="faq_attachment_faq_id">
        <IndexColumn Name="faq_id" />
    </Index>
    <ForeignKey ForeignTable="faq_item">
        <Reference Local="faq_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="created_by" Foreign="id"/>
        <Reference Local="changed_by" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="faq_voting">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="created_by" Required="true" Size="200" Type="VARCHAR" />
    <Column Name="item_id" Required="true" Type="INTEGER" />
    <Column Name="rate" Required="true" Type="INTEGER" />
    <Column Name="created" Required="false" Type="DATE" />
    <Index Name="faq_voting_item_id">
        <IndexColumn Name="item_id" />
    </Index>
    <ForeignKey ForeignTable="faq_item">
        <Reference Local="item_id" Foreign="id" />
    </ForeignKey>
</Table>
<Table Name="faq_log">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="item_id" Required="true" Type="INTEGER" />
    <Column Name="interface" Required="true" Size="80" Type="VARCHAR" />
    <Column Name="ip" Required="false" Size="200" Type="VARCHAR" />
    <Column Name="user_agent" Required="false" Size="200" Type="VARCHAR" />
    <Column Name="created" Required="true" Type="DATE" />
    <Index Name="faq_log_item_id">
        <IndexColumn Name="item_id" />
    </Index>
    <ForeignKey ForeignTable="faq_item">
        <Reference Local="item_id" Foreign="id" />
    </ForeignKey>
</Table>

<!-- general catalog -->
<Table Name="general_catalog">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER" />
    <Column Name="general_catalog_class" Required="true" Size="100" Type="VARCHAR" />
    <Column Name="name" Required="true" Size="100" Type="VARCHAR" />
    <Column Name="valid_id" Required="true" Type="SMALLINT" />
    <Column Name="comments" Required="false" Size="200" Type="VARCHAR" />
    <Column Name="create_time" Required="true" Type="DATE" />
    <Column Name="create_by" Required="true" Type="INTEGER" />
    <Column Name="change_time" Required="true" Type="DATE" />
    <Column Name="change_by" Required="true" Type="INTEGER" />
    <Unique>
        <UniqueColumn Name="general_catalog_class" />
        <UniqueColumn Name="name" />
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
        <Reference Local="change_by" Foreign="id" />
    </ForeignKey>
</Table>
<Table Name="general_catalog_preferences">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER" />
    <Column Name="general_catalog_id" Required="true" Type="INTEGER" />
    <Column Name="pref_key" Required="true" Size="255" Type="VARCHAR" />
    <Column Name="pref_value" Required="false" Size="255" Type="VARCHAR" />
    <Index Name="general_catalog_preferences_general_catalog_id">
        <IndexColumn Name="general_catalog_id" />
    </Index>
    <ForeignKey ForeignTable="general_catalog">
        <Reference Local="general_catalog_id" Foreign="id" />
    </ForeignKey>
</Table>

<!-- import export -->
<Table Name="imexport_template">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="imexport_object" Required="true" Size="100" Type="VARCHAR" />
    <Column Name="imexport_format" Required="true" Size="100" Type="VARCHAR" />
    <Column Name="name" Required="true" Size="100" Type="VARCHAR" />
    <Column Name="valid_id" Required="true" Type="SMALLINT" />
    <Column Name="comments" Required="false" Size="200" Type="VARCHAR" />
    <Column Name="create_time" Required="false" Type="DATE" />
    <Column Name="create_by" Required="false" Type="INTEGER" />
    <Column Name="change_time" Required="false" Type="DATE" />
    <Column Name="change_by" Required="false" Type="INTEGER" />
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
        <Reference Local="change_by" Foreign="id" />
    </ForeignKey>
</Table>
<Table Name="imexport_object">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="template_id" Required="true" Type="BIGINT" />
    <Column Name="data_key" Required="true" Size="100" Type="VARCHAR" />
    <Column Name="data_value" Required="true" Size="200" Type="VARCHAR" />
    <Index Name="imexport_object_template_id">
        <IndexColumn Name="template_id" />
    </Index>
    <ForeignKey ForeignTable="imexport_template">
        <Reference Local="template_id" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="imexport_format">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="template_id" Required="true" Type="BIGINT" />
    <Column Name="data_key" Required="true" Size="100" Type="VARCHAR" />
    <Column Name="data_value" Required="true" Size="200" Type="VARCHAR" />
    <Index Name="imexport_format_template_id">
        <IndexColumn Name="template_id" />
    </Index>
    <ForeignKey ForeignTable="imexport_template">
        <Reference Local="template_id" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="imexport_mapping">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="template_id" Required="true" Type="BIGINT" />
    <Column Name="position" Required="true" Type="INTEGER" />
    <Index Name="imexport_mapping_template_id">
        <IndexColumn Name="template_id" />
    </Index>
    <ForeignKey ForeignTable="imexport_template">
        <Reference Local="template_id" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="imexport_mapping_object">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="mapping_id" Required="true" Type="BIGINT" />
    <Column Name="data_key" Required="true" Size="100" Type="VARCHAR" />
    <Column Name="data_value" Required="true" Size="200" Type="VARCHAR" />
    <Index Name="imexport_mapping_object_mapping_id">
        <IndexColumn Name="mapping_id" />
    </Index>
    <ForeignKey ForeignTable="imexport_mapping">
        <Reference Local="mapping_id" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="imexport_mapping_format">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="mapping_id" Required="true" Type="BIGINT" />
    <Column Name="data_key" Required="true" Size="100" Type="VARCHAR" />
    <Column Name="data_value" Required="true" Size="200" Type="VARCHAR" />
    <Index Name="imexport_mapping_format_mapping_id">
        <IndexColumn Name="mapping_id" />
    </Index>
    <ForeignKey ForeignTable="imexport_mapping">
        <Reference Local="mapping_id" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="imexport_search">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="template_id" Required="true" Type="BIGINT" />
    <Column Name="data_key" Required="true" Size="100" Type="VARCHAR" />
    <Column Name="data_value" Required="true" Size="200" Type="VARCHAR" />
    <Index Name="imexport_search_template_id">
        <IndexColumn Name="template_id" />
    </Index>
    <ForeignKey ForeignTable="imexport_template">
        <Reference Local="template_id" Foreign="id"/>
    </ForeignKey>
</Table>
<!-- import run -->
<Table Name="imexport_template_run">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="template_id" Required="true" Type="BIGINT" />
    <Column Name="state_id" Required="false" Type="SMALLINT" />
    <Column Name="success_count" Required="false" Type="INTEGER" />
    <Column Name="fail_count" Required="false" Type="INTEGER" />
    <Column Name="type" Required="true" Size="10" Type="VARCHAR" />
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="start_time" Required="true" Type="DATE"/>
    <Column Name="end_time" Required="false" Type="DATE"/>
    <ForeignKey ForeignTable="imexport_template">
        <Reference Local="template_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="imexport_template_run_state">
        <Reference Local="state_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="imexport_template_run_state">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="imexport_template_run_state_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- itsm config management -->
<Table Name="configitem">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="configitem_number" Required="true" Size="100" Type="VARCHAR" />
    <Column Name="name" Required="false" Size="250" Type="VARCHAR" />
    <Column Name="class_id" Required="true" Type="INTEGER" />
    <Column Name="last_version_id" Required="false" Type="BIGINT" />
    <Column Name="cur_depl_state_id" Required="false" Type="INTEGER" />
    <Column Name="cur_inci_state_id" Required="false" Type="INTEGER" />
    <Column Name="create_time" Required="true" Type="DATE" />
    <Column Name="create_by" Required="true" Type="INTEGER" />
    <Column Name="change_time" Required="true" Type="DATE" />
    <Column Name="change_by" Required="true" Type="INTEGER" />
    <Unique>
        <UniqueColumn Name="configitem_number" />
    </Unique>
    <Index Name="configitem_class_id">
        <IndexColumn Name="class_id" />
    </Index>
    <Index Name="configitem_last_version_id">
        <IndexColumn Name="last_version_id" />
    </Index>
    <Index Name="configitem_cur_depl_state_id">
        <IndexColumn Name="cur_depl_state_id" />
    </Index>
    <Index Name="configitem_cur_inci_state_id">
        <IndexColumn Name="cur_inci_state_id" />
    </Index>
    <ForeignKey ForeignTable="general_catalog">
        <Reference Local="class_id" Foreign="id" />
        <Reference Local="cur_depl_state_id" Foreign="id" />
        <Reference Local="cur_inci_state_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
        <Reference Local="change_by" Foreign="id" />
    </ForeignKey>
</Table>
<Table Name="configitem_definition">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER" />
    <Column Name="class_id" Required="true" Type="INTEGER" />
    <Column Name="configitem_definition" Required="true" Type="LONGBLOB" />
    <Column Name="version" Required="true" Type="INTEGER" />
    <Column Name="create_time" Required="true" Type="DATE" />
    <Column Name="create_by" Required="true" Type="INTEGER" />
    <ForeignKey ForeignTable="general_catalog">
        <Reference Local="class_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
    </ForeignKey>
</Table>
<Table Name="configitem_version">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="configitem_id" Required="true" Type="BIGINT" />
    <Column Name="name" Required="true" Size="250" Type="VARCHAR" />
    <Column Name="definition_id" Required="true" Type="INTEGER" />
    <Column Name="depl_state_id" Required="true" Type="INTEGER" />
    <Column Name="inci_state_id" Required="false" Type="INTEGER" />
    <Column Name="create_time" Required="true" Type="DATE" />
    <Column Name="create_by" Required="true" Type="INTEGER" />
    <Index Name="configitem_version_configitem_id">
        <IndexColumn Name="configitem_id" />
    </Index>
    <Index Name="configitem_version_depl_state_id">
        <IndexColumn Name="depl_state_id" />
    </Index>
    <Index Name="configitem_version_inci_state_id">
        <IndexColumn Name="inci_state_id" />
    </Index>
    <ForeignKey ForeignTable="configitem">
        <Reference Local="configitem_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="configitem_definition">
        <Reference Local="definition_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="general_catalog">
        <Reference Local="depl_state_id" Foreign="id" />
        <Reference Local="inci_state_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
    </ForeignKey>
</Table>
<Table Name="configitem_counter">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER" />
    <Column Name="class_id" Required="true" Type="INTEGER" />
    <Column Name="counter" Required="true" Size="255" Type="VARCHAR" />
    <Column Name="value" Required="true" Size="50" Type="VARCHAR" />
    <Index Name="configitem_counter_class_id">
        <IndexColumn Name="class_id"/>
    </Index>
    <ForeignKey ForeignTable="general_catalog">
        <Reference Local="class_id" Foreign="id" />
    </ForeignKey>
</Table>
<Table Name="configitem_history_type">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER" />
    <Column Name="name" Required="true" Size="255" Type="VARCHAR" />
    <Column Name="comments" Size="255" Type="VARCHAR" />
    <Column Name="valid_id" Required="true" Type="SMALLINT" />
    <Column Name="create_time" Required="true" Type="DATE" />
    <Column Name="create_by" Required="true" Type="INTEGER" />
    <Column Name="change_time" Type="DATE" />
    <Column Name="change_by" Type="INTEGER" />
    <Unique Name="configitem_history_type_name">
        <UniqueColumn Name="name" />
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
        <Reference Local="change_by" Foreign="id" />
    </ForeignKey>
</Table>
<Table Name="configitem_history">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT" />
    <Column Name="configitem_id" Required="true" Type="BIGINT" />
    <Column Name="type_id" Required="true" Type="INTEGER" />
    <Column Name="content" Required="true" Size="255" Type="VARCHAR" />
    <Column Name="create_time" Required="true" Type="DATE" />
    <Column Name="create_by" Required="true" Type="INTEGER" />
    <ForeignKey ForeignTable="configitem">
        <Reference Local="configitem_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="configitem_history_type">
        <Reference Local="type_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
    </ForeignKey>
</Table>

<!-- itsm attribute collection -->
<Table Name="attachment_directory">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="storage_backend" Required="true" Size="64" Type="VARCHAR"/>
    <Column Name="file_name" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="file_path" Required="false" Size="4000" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="index_attachment_directory_backend">
        <IndexColumn Name="storage_backend"/>
    </Index>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
        <Reference Local="change_by" Foreign="id" />
    </ForeignKey>
</Table>
<Table Name="attachment_dir_preferences">
    <Column Name="attachment_directory_id" Required="true" Type="INTEGER"/>
    <Column Name="preferences_key" Required="true" Size="150" Type="VARCHAR"/>
    <Column Name="preferences_value" Required="false" Size="350" Type="VARCHAR"/>
    <Unique Name="attachment_dir_preferences_uniq">
        <UniqueColumn Name="attachment_directory_id"/>
        <UniqueColumn Name="preferences_key"/>
    </Unique>
    <Index Name="attachment_dir_preferences_attachment_directory_id">
        <IndexColumn Name="attachment_directory_id"/>
    </Index>
    <ForeignKey ForeignTable="attachment_directory">
        <Reference Local="attachment_directory_id" Foreign="id"/>
    </ForeignKey>
</Table>
<Table Name="attachment_storage">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="attachment_directory_id" Required="true" Type="INTEGER"/>
    <Column Name="data" Required="false" Type="LONGBLOB"/>
    <Unique>
        <UniqueColumn Name="attachment_directory_id"/>
    </Unique>
    <Index Name="attachment_storage_dir_id">
        <IndexColumn Name="attachment_directory_id"/>
    </Index>
</Table>

<Table Name="kix_article_flag">
    <Column Name="article_id"  Required="true" Type="BIGINT"/>
    <Column Name="article_key" Required="true" Type="VARCHAR" Size="50"/>
    <Column Name="keywords"    Required="true" Type="VARCHAR" Size="200"/>
    <Column Name="subject"     Required="true" Type="VARCHAR" Size="250"/>
    <Column Name="note"        Required="true" Type="VARCHAR" Size="2000"/>
    <Column Name="create_by"   Required="true" Type="INTEGER"/>
    <Unique>
        <UniqueColumn Name="article_id"/>
        <UniqueColumn Name="article_key"/>
        <UniqueColumn Name="create_by"/>
    </Unique>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
    </ForeignKey>
</Table>

<Table Name="text_module">
    <Column Name="id"          Required="true"  Type="INTEGER"  PrimaryKey="true" AutoIncrement="true"/>
    <Column Name="name"        Required="true"  Type="VARCHAR" Size="80"/>
    <Column Name="category"    Required="false" Type="VARCHAR" Size="255"/>
    <Column Name="text"        Required="false" Type="VARCHAR" Size="65535"/>
    <Column Name="language"    Required="false" Type="VARCHAR" Size="8"/>
    <Column Name="keywords"    Required="false" Type="VARCHAR" Size="3800"/>
    <Column Name="comment"     Required="false" Type="VARCHAR" Size="255"/>
    <Column Name="subject"     Required="false" Type="VARCHAR" Size="255"/>
    <Column Name="f_agent"     Required="false" Type="INTEGER" Default="0"/>
    <Column Name="f_customer"  Required="false" Type="INTEGER" Default="0"/>
    <Column Name="f_public"    Required="false" Type="INTEGER" Default="0"/>
    <Column Name="valid_id"    Required="true"  Type="INTEGER"/>
    <Column Name="create_time" Required="true"  Type="DATE"/>
    <Column Name="create_by"   Required="true"  Type="INTEGER"/>
    <Column Name="change_time" Required="true"  Type="DATE"/>
    <Column Name="change_by"   Required="true"  Type="INTEGER"/>
    <Index Name="text_module_name">
        <IndexColumn Name="name"/>
    </Index>
    <Index Name="text_module_category">
        <IndexColumn Name="category"/>
    </Index>
    <Index Name="text_module_keywords">
        <IndexColumn Name="keywords" Size="100"/>
    </Index>
    <Index Name="text_module_language">
        <IndexColumn Name="language"/>
    </Index>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
        <Reference Local="change_by" Foreign="id" />
    </ForeignKey>
</Table>

<Table Name="text_module_queue">
    <Column Name="id" Required="true" Type="INTEGER" PrimaryKey="true" AutoIncrement="true"/>
    <Column Name="text_module_id" Required="true" Type="INTEGER" />
    <Column Name="queue_id" Required="true" Type="INTEGER" />
    <ForeignKey ForeignTable="queue">
        <Reference Local="queue_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="text_module">
        <Reference Local="text_module_id" Foreign="id" />
    </ForeignKey>
</Table>

<Table Name="text_module_ticket_type">
    <Column Name="id" Required="true" Type="INTEGER" PrimaryKey="true" AutoIncrement="true"/>
    <Column Name="text_module_id" Required="true" Type="INTEGER" />
    <Column Name="ticket_type_id" Required="true" Type="SMALLINT" />
    <ForeignKey ForeignTable="ticket_type">
        <Reference Local="ticket_type_id" Foreign="id" />
    </ForeignKey>
    <ForeignKey ForeignTable="text_module">
        <Reference Local="text_module_id" Foreign="id" />
    </ForeignKey>
</Table>

<!-- client_registration - api client registration information -->
<Table Name="client_registration">
    <Column Name="client_id" Required="true" Type="VARCHAR" Size="255" PrimaryKey="true"/>
    <Column Name="notification_url" Required="false" Type="VARCHAR" Size="255"/>
    <Column Name="notification_authorization" Type="VARCHAR" Size="10000"/>
    <Column Name="additional_data" Type="VARCHAR" Size="10000000"/>
</Table>

<!-- object_icon - icons for objects -->
<Table Name="object_icon">
    <Column Name="id" Required="true" Type="INTEGER" PrimaryKey="true" AutoIncrement="true"/>
    <Column Name="object" Required="true" Type="VARCHAR" Size="255"/>
    <Column Name="object_id" Required="true" Type="VARCHAR" Size="255"/>
    <Column Name="content_type" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="content" Required="true" Type="LONGBLOB"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="object_icon_id">
        <IndexColumn Name="id"/>
    </Index>
    <Index Name="object_icon_object">
        <IndexColumn Name="object"/>
    </Index>
    <Index Name="object_icon_object_id">
        <IndexColumn Name="object_id"/>
    </Index>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
        <Reference Local="change_by" Foreign="id" />
    </ForeignKey>
</Table>

<!-- translation - the base texts for translations -->
<Table Name="translation_pattern">
    <Column Name="id" Required="true" Type="INTEGER" AutoIncrement="true" PrimaryKey="true" />
    <Column Name="value" Required="true" Type="VARCHAR" Size="10000" />
    <Column Name="value_md5" Required="true" Size="32" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE" />
    <Column Name="create_by" Required="true" Type="INTEGER" />
    <Column Name="change_time" Required="true" Type="DATE" />
    <Column Name="change_by" Required="true" Type="INTEGER" />
    <Unique Name="translation_pattern_umd5">
        <UniqueColumn Name="value_md5"/>
    </Unique>
    <Index Name="translation_pattern_id">
        <IndexColumn Name="id"/>
    </Index>
    <Index Name="translation_pattern_value">
        <IndexColumn Name="value" Size="100"/>
    </Index>
    <Index Name="translation_pattern_value_md5">
        <IndexColumn Name="value_md5"/>
    </Index>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
        <Reference Local="change_by" Foreign="id" />
    </ForeignKey>
</Table>

<!-- translation_language - translations -->
<Table Name="translation_language">
    <Column Name="pattern_id" Required="true" Type="INTEGER" />
    <Column Name="language" Required="true" Type="VARCHAR" Size="8" />
    <Column Name="value" Required="true" Type="VARCHAR" Size="10000" />
    <Column Name="is_default" Required="false" Type="INTEGER" />
    <Column Name="create_time" Required="true" Type="DATE" />
    <Column Name="create_by" Required="true" Type="INTEGER" />
    <Column Name="change_time" Required="true" Type="DATE" />
    <Column Name="change_by" Required="true" Type="INTEGER" />
    <Unique Name="translation_lang_unique">
        <UniqueColumn Name="pattern_id"/>
        <UniqueColumn Name="language"/>
    </Unique>
    <ForeignKey ForeignTable="translation_pattern">
        <Reference Local="pattern_id" Foreign="id"/>
    </ForeignKey>
    <Index Name="translation_lang_pattid_lang">
        <IndexColumn Name="pattern_id"/>
        <IndexColumn Name="language"/>
    </Index>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id" />
        <Reference Local="change_by" Foreign="id" />
    </ForeignKey>
</Table>

<Table Name="sysconfig">
    <Column Name="name" Required="true" Type="VARCHAR" Size="255" PrimaryKey="true" />
    <Column Name="context" Required="false" Type="VARCHAR" Size="255"/>
    <Column Name="context_metadata" Required="false" Type="VARCHAR" Size="255"/>
    <Column Name="description" Required="true" Type="VARCHAR" Size="10000" />
    <Column Name="access_level" Required="true" Type="VARCHAR" Size="50"/>
    <Column Name="experience_level" Required="false" Default="0" Type="INTEGER" />
    <Column Name="type" Required="true" Type="VARCHAR" Size="50" />
    <Column Name="group_name" Required="false" Type="VARCHAR" Size="255" />
    <Column Name="setting" Required="false" Type="VARCHAR" Size="10000" />
    <Column Name="is_required" Required="true" Default="0" Type="SMALLINT"/>
    <Column Name="is_modified" Required="true" Default="0" Type="SMALLINT"/>
    <Column Name="default_value" Required="false" Type="VARCHAR" Size="100000" />
    <Column Name="value" Required="false" Type="VARCHAR" Size="100000" />
    <Column Name="comments" Required="false" Type="VARCHAR" Size="255" />
    <Column Name="default_valid_id" Required="false" Type="SMALLINT" Default="1"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE" />
    <Column Name="create_by" Required="true" Type="INTEGER" />
    <Column Name="change_time" Required="true" Type="DATE" />
    <Column Name="change_by" Required="true" Type="INTEGER" />
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
        <Reference Local="default_valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
    <Index Name="sysconfig_name">
        <IndexColumn Name="name"/>
    </Index>
    <Index Name="sysconfig_context">
        <IndexColumn Name="context"/>
    </Index>
</Table>

<!-- job -->
<Table Name="job">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="type" Required="true" Size="50" Type="VARCHAR"/>
    <Column Name="filter" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="sort_order" Required="false" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="is_async" Required="false" Type="INTEGER" Default="0"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="last_exec_time" Required="false" Type="DATE"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="job_name">
        <IndexColumn Name="name"/>
    </Index>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- job_state -->
<Table Name="job_run_state">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="SMALLINT"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="job_run_state_name">
        <UniqueColumn Name="name"/>
    </Unique>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- job_run -->
<Table Name="job_run">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="job_id" Required="true" Type="INTEGER"/>
    <Column Name="filter" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="state_id" Required="false" Type="SMALLINT"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="start_time" Required="true" Type="DATE"/>
    <Column Name="end_time" Required="false" Type="DATE"/>
    <ForeignKey ForeignTable="job">
        <Reference Local="job_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="job_run_state">
        <Reference Local="state_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- exec_plan -->
<Table Name="exec_plan">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="type" Required="true" Size="50" Type="VARCHAR"/>
    <Column Name="parameters" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="exec_plan_name">
        <IndexColumn Name="name"/>
    </Index>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- macro -->
<Table Name="macro">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="type" Required="true" Size="50" Type="VARCHAR"/>
    <Column Name="exec_order" Required="false" Size="10000" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="macro_name">
        <IndexColumn Name="name"/>
    </Index>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- macro_action -->
<Table Name="macro_action">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="macro_id" Required="true" Type="INTEGER"/>
    <Column Name="referenced_macro_id" Required="false" Type="INTEGER"/>
    <Column Name="type" Required="true" Size="250" Type="VARCHAR"/>
    <Column Name="parameters" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="result_variables" Required="false" Size="10000" Type="VARCHAR"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <ForeignKey ForeignTable="macro">
        <Reference Local="macro_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="macro">
        <Reference Local="referenced_macro_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- job_exec_plan - relation job<->exec_plan -->
<Table Name="job_exec_plan">
    <Column Name="job_id" Required="true" Type="INTEGER"/>
    <Column Name="exec_plan_id" Required="true" Type="INTEGER"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="job_exec_plan_pkey">
        <UniqueColumn Name="job_id"/>
        <UniqueColumn Name="exec_plan_id"/>
    </Unique>
    <Index Name="job_exec_plan_job_id">
        <IndexColumn Name="job_id"/>
    </Index>
    <Index Name="job_exec_plan_ep_id">
        <IndexColumn Name="exec_plan_id"/>
    </Index>
    <ForeignKey ForeignTable="job">
        <Reference Local="job_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="exec_plan">
        <Reference Local="exec_plan_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- job_macro - relation job<->macro -->
<Table Name="job_macro">
    <Column Name="job_id" Required="true" Type="INTEGER"/>
    <Column Name="macro_id" Required="true" Type="INTEGER"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Unique Name="job_macro_pkey">
        <UniqueColumn Name="job_id"/>
        <UniqueColumn Name="macro_id"/>
    </Unique>
    <Index Name="job_macro_job_id">
        <IndexColumn Name="job_id"/>
    </Index>
    <Index Name="job_macro_macro_id">
        <IndexColumn Name="macro_id"/>
    </Index>
    <ForeignKey ForeignTable="job">
        <Reference Local="job_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="macro">
        <Reference Local="macro_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<!-- automation_log -->
<Table Name="automation_log">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="job_id" Required="false" Type="INTEGER"/>
    <Column Name="run_id" Required="false" Type="INTEGER"/>
    <Column Name="macro_id" Required="false" Type="INTEGER"/>
    <Column Name="macro_action_id" Required="false" Type="INTEGER"/>
    <Column Name="object_id" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="priority" Required="false" Size="20" Type="VARCHAR"/>
    <Column Name="message" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Index Name="automation_log_job_id">
        <IndexColumn Name="job_id"/>
    </Index>
    <Index Name="automation_log_run_id">
        <IndexColumn Name="run_id"/>
    </Index>
    <Index Name="automation_log_macro_id">
        <IndexColumn Name="macro_id"/>
    </Index>
    <ForeignKey ForeignTable="job">
        <Reference Local="job_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="job_run">
        <Reference Local="run_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
    </ForeignKey>
</Table>

<Table Name="migration">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="BIGINT"/>
    <Column Name="source" Required="true" Size="255" Type="VARCHAR"/>
    <Column Name="source_id" Required="true" Size="255" Type="VARCHAR"/>
    <Column Name="object_type" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="object_id" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="source_object_id" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="additional_data" Required="false" Size="1800000" Type="VARCHAR"/>
    <Index Name="migration_sourceid_otype_soid">
        <IndexColumn Name="source_id"/>
        <IndexColumn Name="object_type"/>
        <IndexColumn Name="source_object_id"/>
    </Index>
</Table>

<Table Name="report_definition">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Size="200" Type="VARCHAR"/>
    <Column Name="datasource" Required="true" Size="255" Type="VARCHAR"/>
    <Column Name="config" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="is_periodic" Required="false" Type="INTEGER" Default="0"/>
    <Column Name="max_reports" Required="false" Type="INTEGER" Default="0"/>
    <Column Name="comments" Required="false" Size="250" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <Column Name="change_time" Required="true" Type="DATE"/>
    <Column Name="change_by" Required="true" Type="INTEGER"/>
    <Index Name="report_definition_name">
        <IndexColumn Name="name"/>
    </Index>
    <ForeignKey ForeignTable="valid">
        <Reference Local="valid_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
        <Reference Local="change_by" Foreign="id"/>
    </ForeignKey>
</Table>

<Table Name="report">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="definition_id" Required="true" Type="INTEGER"/>
    <Column Name="config" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <ForeignKey ForeignTable="report_definition">
        <Reference Local="definition_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
    </ForeignKey>
</Table>

<Table Name="report_result">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="report_id" Required="true" Type="INTEGER"/>
    <Column Name="format" Required="true" Size="255" Type="VARCHAR"/>
    <Column Name="content_type" Required="false" Size="255" Type="VARCHAR"/>
    <Column Name="content_size" Required="false" Size="30" Type="VARCHAR"/>
    <Column Name="content" Required="false" Type="LONGBLOB"/>
    <Column Name="create_time" Required="true" Type="DATE"/>
    <Column Name="create_by" Required="true" Type="INTEGER"/>
    <ForeignKey ForeignTable="report">
        <Reference Local="report_id" Foreign="id"/>
    </ForeignKey>
    <ForeignKey ForeignTable="users">
        <Reference Local="create_by" Foreign="id"/>
    </ForeignKey>
</Table>

<Table Name="html_to_pdf">
    <Column Name="id" Required="true" PrimaryKey="true" AutoIncrement="true" Type="INTEGER"/>
    <Column Name="name" Required="true" Size="255" Type="VARCHAR"/>
    <Column Name="object" Required="true" Size="255" Type="VARCHAR"/>
    <Column Name="description" Required="false" Size="1800000" Type="VARCHAR"/>
    <Column Name="valid_id" Required="true" Type="SMALLINT"/>
    <Column Name="definition" Required="false" Type="LONGBLOB"/>
    <Column Name="created" Required="true" Type="DATE"/>
    <Column Name="created_by" Required="true" Type="INTEGER"/>
    <Column Name="changed" Required="true" Type="DATE"/>
    <Column Name="changed_by" Required="true" Type="INTEGER"/>
    <Index Name="html_to_pdf_name">
        <IndexColumn Name="name"/>
    </Index>
</Table>

</database>
